在创建好了epoll之后：
- 首先注册监听描述符的可读事件（ET模式）
- 一旦内核监听到监听描述符可读，则说明有客户端发起了连接，内核自动通知并创建已连接描述符，epoll注册该已连接描述符的可读事件（ET模式）
- 客户端发送的数据到达服务器端，内核感知到了该已连接描述符的可读事件，建立任务并放入线程池中。并唤醒等待任务的worker线程执行对应的操作

FTP并发模型就是事件分布模型 + 同步非阻塞I/O + 线程池

- Reactor

    - 应用程序注册读就绪事件和相关联的事件处理器

    - 事件分离器等待事件的发生

    - 当发生读就绪事件的时候,事件分离器调用第一步注册的事件处理器

    - 事件处理器首先执行实际的读取操作,然后根据读取到的内容进行进一步的处理

- Proactor

    - 应用程序程序初始化一个异步读取操作,然后注册相应的事件处理器,此时事件处理器不关注读取就绪事件,而是关注读取完成事件,这是区别于Reactor的关键

    - 事件分离器等待读取操作完成事件

    - 在事件分离器等待带读取操作完成的时候,操作系统调用内核线程完成读取操作,并将读取的内容放入用户传递进来的缓冲区中.这也是区别于Reactor的一点,在Proactor中,应用程序需要传递缓冲区

    - 事件分离器捕获到读取完成事件后,激活应用程序注册的事件处理器,事件处理器直接从缓冲区读取数据

从上面可以看出,Reactor和Proactor模式的主要区别在于读取操作由谁完成.Reactor中需要应用程序(FTP中为worker线程)自己读取数据(从内核缓冲区读到用户缓冲区),而Proactor模式中,用户不需要这段过程,操作系统会将数据直接传递到用户缓冲区